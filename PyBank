# Modules
import os
import csv

# Set path for file
csvpath = os.path.join("PyBank", "Resources", "BudgetData.csv")

# Lists to store the data
Date = []
Profit_Loss = []
Avg_Change = []
Change_Start = 0

#Open the CSV
with open(csvpath) as csvfile:
    csvreader = csv.reader(csvfile, delimiter=",")

    #read the header row first

    csv_header = next(csvreader)
    print(f"CSV Header: {csv_header}")
    
    #read each row of data after the header
    for row in csvreader:              
        Date.append(row[0])
        Profit_Loss.append(int(row[1]))
        Change_Net = csvreader.row(0)-Change_Start
            #write Change value at this step into a list Avg_Change
        Avg_Change.append(Change_Net)
        Change_Start = row(0)

        
    print(Date)
    print(Profit_Loss)
    x = len(Date)
    y = sum(Profit_Loss)
    z = sum(Avg_Change)
    i = len(Avg_Change)
#   z = sum(Avg_Change)/len(Avg_Change)
#     
    print("total months: ")
    print(x)
    print("total profit: ")
    print(y)
    print("average change SUM is ")
    print(z)
    print("average change LEN is ")
    print(i)

    #define the function 
    #def PyBank(Bank_data)

    # Loop through the remaining rows looking for the following values: 
        # Total number of months in data set

        # Net total amount of "Profit/ Losses" over the entire period

        # Average of the changes "Profit/Losses" over the entire period
            #def average(numbers):
            #length = len(numbers)
                #total = 0.0
                #for number in numbers:
                    #total += number
                #return total / length

        # The greatest increase in profits (date and amount) over the entire period

        # The greatest decrease in losses (date and amount) over the entire period

        # Your final script should both print the analysis to the terminal and export a text file with the results

# CODE FROM SOLUTIONS
# Zip lists together:

#cleaned_csv = zip(title, price, subscribers, reviews, review_percent, length)

# Set variable for output file
#output_file = os.path.join("web_final.csv")

#  Open the output file
#with open(output_file, "w") as datafile:
 #   writer = csv.writer(datafile)

    # Write the header row
#    writer.writerow(["Title", "Course Price", "Subscribers", "Reviews Left",
#                     "Percent of Reviews", "Length of Course"])

    # Write in zipped rows
#    writer.writerows(cleaned_csv)
